{"version":3,"sources":["components/createExpForm/create-exp-form.module.scss","utilits/randomKeyGenerator.js","api/api.js","redux/table-reduser.ts","components/createExpForm/create-exp-form.tsx","components/common/preloader.tsx","components/table.jsx","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["module","exports","generateHexString","length","ret","Math","random","toString","substring","console","log","instance","axios","baseURL","headers","expensesDataAPI","get","then","response","data","newExpensesData","post","patch","itemKey","delete","GET_ALL_EXPENSES","SET_DATA_IS_LOADING","initialState","dataSource","dataSourceIsLoading","setDataIsLoading","isLoading","type","getAllExpensesData","dispatch","expenses","resultCode","tableReduser","state","action","CrateExpenseForm","props","initFormData","discription","cost","inThisMounth","date","useState","formData","setFormData","requiredError","setRequiredError","useDispatch","handleChange","event","name","target","value","checked","Modal","open","showCreateExpenseForm","closeIcon","onClose","setShowCreateExpenseForm","onOpen","Header","content","Content","Form","onSubmit","newData","submitValues","key","preventDefault","Field","required","placeholder","onChange","className","styles","error","checkbox","Button","primary","Preloader","LoadingOutlined","style","fontSize","spin","EditableContext","React","createContext","EditableRow","index","useForm","form","component","Provider","EditableCell","title","editable","children","dataIndex","record","handleSave","restProps","editing","setEditing","inputRef","useRef","useContext","useEffect","current","focus","toggleEdit","setFieldsValue","save","a","validateFields","values","childNode","Item","margin","rules","message","ref","onPressEnter","onBlur","paddingRight","onClick","EditableTable","handleDelete","handleAdd","row","findIndex","item","splice","componentDidMount","columns","width","render","_","onConfirm","count","this","components","body","cell","map","col","onCell","marginBottom","disabled","startDataLoading","rowClassName","bordered","Component","connect","tableData","App","marginTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","redusers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74cd6243.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"create-exp-form_checkbox__2U6Nv\",\"error\":\"create-exp-form_error__W-yZF\",\"fieldError\":\"create-exp-form_fieldError__Q_t2q\"};","export function generateHexString(length) {\r\n    var ret = \"\";\r\n    while (ret.length < length) {\r\n      ret += Math.random().toString(16).substring(2);\r\n    }\r\n    return ret.substring(0,length);\r\n  }\r\n  \r\n  // 40-/64-bit WEP: 10 digit key\r\n  console.log(\"40-bit:\" + generateHexString(10));\r\n  \r\n  // 104-/128-bit WEP: 26 digit key\r\n  console.log(\"104-bit:\" + generateHexString(26))\r\n  \r\n  // 256-bit WEP: 58 digit key\r\n  console.log(\"256-bit:\" + generateHexString(58))","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({ \r\n    /* withCredentials: true, */\r\n    baseURL: /* 'http://localhost:5000/api/' */ 'https://my-expenses-table-app.herokuapp.com/api/',\r\n    headers: {\r\n        /* \"Access-Control-Allow-Origin\": \"*\" */\r\n    }    \r\n});\r\n\r\nexport const expensesDataAPI = {\r\n    getAllExpenses () {\r\n        return instance.get('expensesData') //Базовый урл сам добавляется\r\n            .then((response) => response.data)\r\n    },\r\n    postNewExpense(newExpensesData) {  //в объекте приходит: key, discription, cost, date\r\n        return instance.post('expensesData', newExpensesData) \r\n            .then((response) => response.data)\r\n    },\r\n    editExpense(newExpensesData) {  //Приходит массив со всеми данными\r\n        return instance.patch('expensesData', newExpensesData) \r\n            .then((response) => response.data)\r\n    },\r\n    deleteExpense(itemKey) {  //в объекте приходит: key, no, discription, cost, date\r\n        return instance.delete(`expensesData/${itemKey}`) //Отправляем Key элемента который нужно удалить \r\n            .then((response) => response.data)\r\n    }\r\n}\r\n\r\n/* export const homePageDataAPI = {\r\n    getReviewsPart (currentRevPart = 1, revPartSize = 5) {\r\n        return instance.get(`home?currentRevPart=${currentRevPart}&revPartSize=${revPartSize}`) \r\n            .then((response) => response.data)\r\n    },\r\n    postNewReview (reviewFormData) {\r\n        return instance.post('home/', {reviewFormData}) \r\n            .then((response) => response.data)\r\n    }\r\n} */\r\n\r\n\r\n","import { expensesDataAPI } from \"../api/api\";\r\n\r\nconst GET_ALL_EXPENSES = 'expenses-app/tableData/GET_ALL_EXPENSES';\r\nconst SET_DATA_IS_LOADING = 'expenses-app/tableData/SET_DATA_IS_LOADING';\r\n\r\ntype ExpenseData = {\r\n    key: string,\r\n    discription: string,\r\n    cost: number,\r\n    date: string\r\n}\r\n\r\ntype State = {\r\n    dataSource: Array<ExpenseData> | [],\r\n    dataSourceIsLoading: boolean\r\n}\r\n\r\ntype Action = {\r\n        type: typeof GET_ALL_EXPENSES,\r\n        dataSource: Array<ExpenseData>\r\n    } | {\r\n        type: typeof SET_DATA_IS_LOADING,\r\n        isLoading: boolean\r\n    }\r\n\r\nconst initialState: State = {\r\n    dataSource: [],\r\n    dataSourceIsLoading: false\r\n};\r\n\r\nconst tableReduser = (state: State = initialState, action: Action): State => {\r\n    switch (action.type) {\r\n        case GET_ALL_EXPENSES:\r\n            return {\r\n                ...state,\r\n                dataSource: action.dataSource,\r\n            }\r\n        case SET_DATA_IS_LOADING:\r\n            return {\r\n                ...state,\r\n                dataSourceIsLoading: action.isLoading,\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Action Creators\r\n\r\nexport const getAllExpensesDataAction = (expenses:Array<ExpenseData>): Action => {\r\n    return { type: GET_ALL_EXPENSES, dataSource: expenses };\r\n}\r\n\r\nexport const setDataIsLoading = (isLoading: boolean): Action => {\r\n    return { type: SET_DATA_IS_LOADING, isLoading };\r\n}\r\n\r\n//Thunks\r\n\r\nexport const getAllExpensesData = () => {   \r\n    return (dispatch: any) => {\r\n        dispatch(setDataIsLoading(true));\r\n        return expensesDataAPI.getAllExpenses().then((response: any) => {\r\n            if (response.resultCode === 'successfull') {\r\n                dispatch(getAllExpensesDataAction(response.expenses));\r\n            }\r\n            dispatch(setDataIsLoading(false));\r\n        });\r\n    }\r\n}\r\n\r\nexport const postNewExpense = (newData: ExpenseData) => {   \r\n    return (dispatch: any) => {\r\n        return expensesDataAPI.postNewExpense(newData).then((response: any) => {\r\n            if (response.resultCode === 'successfull') {\r\n                dispatch(getAllExpensesData());\r\n            }\r\n        });\r\n    }\r\n}\r\n/*\r\nexport const login = (email, password, rememberMe) => { //Lesson 78\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, password, rememberMe);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuth());\r\n        } else {\r\n            dispatch(stopSubmit('login', { _error: 'Error in password or email' })); //Lesson 79\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {    //Lesson 78\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n} */\r\n\r\nexport default tableReduser;","import React, { useState } from 'react';\r\nimport styles from './create-exp-form.module.scss';\r\nimport { Button, Header, Modal, Form } from 'semantic-ui-react'\r\nimport { generateHexString } from '../../utilits/randomKeyGenerator';\r\nimport { expensesDataAPI } from '../../api/api';\r\nimport { useDispatch } from 'react-redux';\r\nimport { postNewExpense } from '../../redux/table-reduser';\r\n\r\ntype FormData = {\r\n    discription: string,\r\n    cost: number,\r\n    inThisMounth: boolean,\r\n    date: string\r\n}\r\n\r\ntype Props = {\r\n    setShowCreateExpenseForm: any,\r\n    showCreateExpenseForm: boolean\r\n}\r\n\r\ntype SubmitValues = {\r\n    key: string,\r\n    discription: string,\r\n    cost: number,\r\n    date: string,\r\n}\r\n\r\nexport function CrateExpenseForm (props: Props) {\r\n\r\n    const initFormData: FormData = {\r\n        discription: '',\r\n        cost: 0,\r\n        inThisMounth: true,\r\n        date: ''\r\n    }\r\n\r\n    const [formData, setFormData ] = useState(initFormData);\r\n    const [requiredError, setRequiredError] = useState({discription: false, cost: false});\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = (event: any) => {\r\n        const submitValues: SubmitValues = {\r\n            key: generateHexString(26),\r\n            discription: formData.discription,\r\n            cost: formData.cost,\r\n            date: formData.date\r\n        }\r\n        dispatch(postNewExpense(submitValues));\r\n        props.setShowCreateExpenseForm(false);\r\n        setFormData(initFormData);\r\n        event.preventDefault();\r\n    }\r\n\r\n    const handleChange = (event: any) => {\r\n        const name = event.target.name;\r\n        const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n        setFormData({...formData, [name]: value});\r\n        if(!value) {\r\n            setRequiredError({...requiredError, [name]: true})\r\n        } else {\r\n            setRequiredError({...requiredError, [name]: false})\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal open={props.showCreateExpenseForm} closeIcon\r\n                 onClose={() => props.setShowCreateExpenseForm(false)} \r\n                 onOpen={() => props.setShowCreateExpenseForm(true)} >\r\n            <Header content='Create new Expense' />\r\n            <Modal.Content>\r\n            <Form onSubmit={handleSubmit} >\r\n                <Form.Field required>\r\n                    <label>Discription:</label>\r\n                    <textarea required placeholder='Expense name' name='discription' value={formData.discription} onChange={handleChange} />\r\n                    {requiredError.discription && <div className={styles.error}>Require field</div>}\r\n                </Form.Field>\r\n                <Form.Field required>\r\n                    <label>Cost:</label>\r\n                    <input type='number' placeholder='Expense cost' name='cost' value={formData.cost} onChange={handleChange} required />\r\n                    {requiredError.cost && <div className={styles.error}>Require field</div>}\r\n                </Form.Field>\r\n                {\r\n                !formData.inThisMounth && \r\n                <Form.Field>\r\n                    <label>Date:</label>\r\n                    <input placeholder='Expense date' name='date' value={formData.date} onChange={handleChange} />\r\n                </Form.Field>\r\n                }               \r\n                <Form.Field>\r\n                <label className={styles.checkbox}>In this mounth:\r\n                    <input type=\"checkbox\" name='inThisMounth' checked={formData.inThisMounth} onChange={handleChange} />\r\n                </label>\r\n                </Form.Field>\r\n                <Button primary type='submit'>Create</Button>\r\n            </Form>\r\n        </Modal.Content>\r\n    </Modal>\r\n    )\r\n}","import React from 'react';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\ntype Props = {\r\n    fontSize: number\r\n}\r\n\r\nexport function Preloader(props: Props) {\r\n    return (\r\n        <div>\r\n            <LoadingOutlined style={{ fontSize: props.fontSize }} spin />;\r\n        </div>\r\n    )\r\n}","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { Table, Input, Button, Popconfirm, Form } from 'antd';\r\nimport { expensesDataAPI } from '../api/api';\r\nimport { generateHexString } from '../utilits/randomKeyGenerator';\r\nimport { Preloader } from './common/preloader';\r\nimport { connect } from 'react-redux';\r\nimport { getAllExpensesData } from '../redux/table-reduser';\r\n\r\nconst EditableContext = React.createContext(null);\r\n\r\nconst EditableRow = ({ index, ...props }) => {\r\n  const [form] = Form.useForm();\r\n  return (\r\n    <Form form={form} component={false}>\r\n      <EditableContext.Provider value={form}>\r\n        <tr {...props} />\r\n      </EditableContext.Provider>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst EditableCell = ({\r\n  title,\r\n  editable,\r\n  children,\r\n  dataIndex,\r\n  record,\r\n  handleSave,\r\n  ...restProps\r\n}) => {\r\n  const [editing, setEditing] = useState(false);\r\n  const inputRef = useRef(null);\r\n  const form = useContext(EditableContext);\r\n  useEffect(() => {\r\n    if (editing) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [editing]);\r\n\r\n  const toggleEdit = () => {\r\n    setEditing(!editing);\r\n    form.setFieldsValue({\r\n      [dataIndex]: record[dataIndex],\r\n    });\r\n  };\r\n\r\n  const save = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      toggleEdit();\r\n      handleSave({ ...record, ...values });\r\n    } catch (errInfo) {\r\n      console.log('Save failed:', errInfo);\r\n    }\r\n  };\r\n\r\n  let childNode = children;\r\n\r\n  if (editable) {\r\n    childNode = editing ? (\r\n      <Form.Item\r\n        style={{\r\n          margin: 0,\r\n        }}\r\n        name={dataIndex}\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: `${title} is required.`,\r\n          },\r\n        ]}\r\n      >\r\n        <Input ref={inputRef} onPressEnter={save} onBlur={save} />\r\n      </Form.Item>\r\n    ) : (\r\n      <div\r\n        className=\"editable-cell-value-wrap\"\r\n        style={{\r\n          paddingRight: 24,\r\n        }}\r\n        onClick={toggleEdit}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n  return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nclass EditableTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.columns = [\r\n      {\r\n        title: 'Expenses',\r\n        dataIndex: 'discription',\r\n        editable: true,\r\n      },\r\n      {\r\n        title: 'Cost',\r\n        dataIndex: 'cost',\r\n        editable: true,\r\n        width: '12%',\r\n      },\r\n      {\r\n        title: 'Date',\r\n        dataIndex: 'date',\r\n        editable: true,\r\n        width: '12%',\r\n      },\r\n      {\r\n        title: 'operation',\r\n        dataIndex: 'operation',\r\n        render: (_, record) =>\r\n          this.props.dataSource.length >= 1 ? (\r\n            <Popconfirm title=\"Sure to delete?\" onConfirm={() => this.handleDelete(record.key)}>\r\n              <a>Delete</a>\r\n            </Popconfirm>\r\n          ) : null,\r\n          width: '15%',\r\n      },\r\n    ];\r\n    this.state = {\r\n      count: null,\r\n    };\r\n  }\r\n\r\n  handleDelete = (key) => {\r\n    expensesDataAPI.deleteExpense(key)\r\n      .then(() => this.props.getAllExpensesData());\r\n    }\r\n  handleAdd = () => {    \r\n    /* const { count, dataSource } = this.state;\r\n    const newData = {\r\n      key: generateHexString(26),\r\n      discription: 'Expenses Discription',\r\n      cost: 0,\r\n      date: 'Date',\r\n    };\r\n    this.setState({\r\n      dataSource: [...dataSource, newData],\r\n      count: count + 1,\r\n    }); */\r\n    this.props.setShowCreateExpenseForm(true);\r\n  };\r\n  handleSave = (row) => {\r\n    const newData = [...this.props.dataSource];\r\n    const index = newData.findIndex((item) => row.key === item.key);\r\n    const item = newData[index];\r\n    newData.splice(index, 1, { ...item, ...row });\r\n    expensesDataAPI.editExpense(newData)\r\n      .then(() => this.props.getAllExpensesData()) \r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.props.getAllExpensesData() //Получаем стартовый данные с сервака и диспатчим в стэйт\r\n  }\r\n\r\n  render() {\r\n    const dataSource = this.props.dataSource;\r\n    const components = {\r\n      body: {\r\n        row: EditableRow,\r\n        cell: EditableCell,\r\n      },\r\n    };\r\n    const columns = this.columns.map((col) => {\r\n      if (!col.editable) {\r\n        return col;\r\n      }\r\n\r\n      return {\r\n        ...col,\r\n        onCell: (record) => ({\r\n          record,\r\n          editable: col.editable,\r\n          dataIndex: col.dataIndex,\r\n          title: col.title,\r\n          handleSave: this.handleSave,\r\n        }),\r\n      };\r\n    });\r\n    return (      \r\n      <div>\r\n        <Button\r\n          onClick={this.handleAdd}\r\n          type=\"primary\"\r\n          style={{\r\n            marginBottom: 16,\r\n          }}\r\n          disabled={this.state.startDataLoading}\r\n        >\r\n          Add a row\r\n        </Button>\r\n        {\r\n        this.props.dataSourceIsLoading \r\n        ? \r\n        <Preloader fontSize = {54} />\r\n        :\r\n        <Table\r\n          components={components}\r\n          rowClassName={() => 'editable-row'}\r\n          bordered\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n        />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dataSource: state.tableData.dataSource,\r\n    dataSourceIsLoading: state.tableData.dataSourceIsLoading\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAllExpensesData})(EditableTable);\r\n\r\n","import { useState } from 'react';\r\nimport './App.css';\r\nimport { CrateExpenseForm } from './components/createExpForm/create-exp-form';\r\nimport EditableTable from './components/table';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nfunction App() {\r\n\r\n  const [showCreateExpenseForm, setShowCreateExpenseForm] = useState(false); \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1 style={{marginTop: '25px'}}>Expenses Table App</h1>\r\n      <EditableTable setShowCreateExpenseForm={setShowCreateExpenseForm} /> \r\n      { <CrateExpenseForm setShowCreateExpenseForm={setShowCreateExpenseForm} showCreateExpenseForm={showCreateExpenseForm} /> }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";  \r\nimport tableReduser from \"./table-reduser\";\r\n\r\nlet redusers = combineReducers({\r\n    tableData: tableReduser,\r\n    /* form: formReducer  */  //redux-form Lesson 75\r\n});\r\n\r\nlet store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter} from \"react-router-dom\";\nimport store from './redux/store';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider >  \n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}